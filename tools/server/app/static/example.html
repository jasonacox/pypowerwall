<!DOCTYPE html>
<html>
    <head>
        <title>pyPowerwall Proxy iFrame Example</title>
        <script src="/static/viz-static/jquery.min.js"></script>
    </head>
    <body style="text-align: center; background-color:#111217;">
        <h1 style="color:white;font-family:verdana;">Tesla Powerwall Power Flows</h1>
        <h2 style="color:gray;font-family:verdana;">iFrame Example</h2>
        <!-- change src to be the address of you pyPowerwall host address -->
        <iframe id="frame" src="/" width="500" height="300" frameBorder="0">
            IFRAME not supported by browser.
        </iframe>
        <p class="version" style="color:gray;font-family:verdana;">Firmware</p>
    
        <script>
            // Get Firmware Version
            function showversion() {
                var pwver = window.location.protocol + "//" + window.location.hostname + ":" + window.location.port + "/version";
                $.getJSON(pwver, function(data) {
                    var text = `Firmware: ${data.version}`;
                    $(".version").html(text);
                });
                setTimeout(showversion, 10000);
            }
            showversion();
        </script>
    </body>
</html>

